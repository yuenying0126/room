<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Hexagon Room</title>
  <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
  <style>
    body { margin: 0; overflow: hidden; }
    #resetBtn {
      position: absolute;
      top: 10px;
      right: 10px;
      z-index: 9999;
      padding: 10px 15px;
      font-size: 16px;
      border-radius: 5px;
      background-color: #007bff;
      color: white;
      border: none;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <a-scene>
    <!-- Assets -->
    <a-assets>
      <img id="w1" src="0_Door.jpg">
      <img id="w2" src="1_Outdoors (Cropped).jpg">
      <img id="w3" src="2_Boardgaming.png">
      <img id="w4" src="3_UC.jpg">
      <img id="w5" src="4_Bear in Pink.png">
      <img id="w6" src="5_Crossing the Road in Grays (Cropped).jpg">
      <img id="ceiling" src="Ceiling (Cropped).jpg">
      <img id="floor" src="Floor (Cropped).jpg">
    </a-assets>

    <!-- Floor -->
    <a-plane position="0 0 0" rotation="-90 0 0" width="8" height="8" material="src: #floor; side: double"></a-plane>

    <!-- Ceiling -->
    <a-plane position="0 3.6 0" rotation="90 0 0" width="8" height="8" material="src: #ceiling; side: double"></a-plane>

    <!-- Hexagon Walls (no rotation) -->
    <a-plane position="0 1.8 -3.464" width="4" height="3.6" rotation="0 0 0" material="src: #w1; side: double"></a-plane>
    <a-plane position="3 1.8 -1.732" width="4" height="3.6" rotation="0 300 0" material="src: #w2; side: double"></a-plane>
    <a-plane position="3 1.8 1.732" width="4" height="3.6" rotation="0 240 0" material="src: #w3; side: double"></a-plane>
    <a-plane position="0 1.8 3.464" width="4" height="3.6" rotation="0 180 0" material="src: #w4; side: double"></a-plane>
    <a-plane position="-3 1.8 1.732" width="4" height="3.6" rotation="0 120 0" material="src: #w5; side: double"></a-plane>
    <a-plane position="-3 1.8 -1.732" width="4" height="3.6" rotation="0 60 0" material="src: #w6; side: double"></a-plane>

    <!-- Camera -->
    <a-entity id="cam" camera
              look-controls="pitchEnabled: true; maxPitch: 90; minPitch: -90"
              wasd-controls
              position="0 1.8 0">
    </a-entity>
  </a-scene>

  <!-- Reset View Button -->
  <button id="resetBtn">Reset View</button>

  <!-- Reset button functionality -->
  <script>
    window.addEventListener('load', () => {
      const cam = document.querySelector("#cam");
      const btn = document.querySelector("#resetBtn");

      btn.addEventListener("click", (e) => {
        e.stopPropagation(); // Prevent A-Frame from intercepting the click

        // Reset camera position
        cam.setAttribute("position", {x: 0, y: 1.8, z: 0});

        // Reset camera rotation via look-controls
        const lookControls = cam.components["look-controls"];
        if (lookControls) {
          lookControls.pitchObject.rotation.x = 0;
          lookControls.yawObject.rotation.y = 0;
          lookControls.rollObject.rotation.z = 0;
          cam.setAttribute("rotation", {x: 0, y: 0, z: 0});
        }
      });
    });
  </script>
</body>
</html>
